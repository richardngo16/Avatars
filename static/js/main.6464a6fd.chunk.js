(window.webpackJsonpavatar=window.webpackJsonpavatar||[]).push([[0],{146:function(e,a,n){"use strict";n.r(a);var r=n(0),t=n.n(r),o=n(10),c=n.n(o),i=(n(38),n(11)),l=n.n(i),u=n(14),s=n(15),f=n(29),h=n.n(f),d=function(e){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:"d45fd466-51e2-4701-8da8-04351c872236",file_base64:e.replace("data:image/jpeg;base64,",""),detection_flags:"classifiers,extended"})};return fetch("https://www.betafaceapi.com/api/v2/media",a)},v=function(){var e=Object(u.a)(l.a.mark(function e(a){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(a);case 3:return e.next=5,e.sent.json();case 5:return n=e.sent,e.abrupt("return",n.media.faces[0].tags);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(a){return e.apply(this,arguments)}}(),m=function(e){var a=e.filter(function(e){return"wearing hat"===e.name})[0];if(console.log("Wearing Hat?",a.value),"yes"===a.value&&a.confidence>.8)return console.log("yes hat"),"Hat";var n=e.filter(function(e){return"bald"===e.name})[0];if(console.log("NoHair?",n.value,"Confidence?",n.confidence),"yes"===n.value&&n.confidence>=.9)return"NoHair";var r=e.filter(function(e){return"hair length"===e.name})[0].value,t=e.filter(function(e){return"hair top"===e.name})[0].value;switch(console.log("hair length",r),console.log("hair top",t),r){case"none":if("very short"===t)return"ShortHairTheCaesar";if("short"===t)return"ShortHairRound";break;case"very short":return"ShortHairTheCaesar";case"short":return"ShortHairRound";case"average":return"ShortHairShortWaved";case"long":return"LongHairNotTooLong";case"very long":return"LongHairStraight";default:return"ShortHairShortCurly"}},p=function(e){var a=e.filter(function(e){return"hair color type"===e.name})[0];switch(console.log("haircolor",a),a.value){case"black":return"Black";case"blond":return"Blonde";case"brown":return"BrownDark";case"brown light":return"Brown";case"red":if(a.confidence>.8)return"Red";break;default:return"Brown"}},g=function(e){var a=e.filter(function(e){return"hair beard"===e.name})[0];if(console.log("has beard",a),"none"!==a.value&a.confidence>.75)return"BeardLight";var n=e.filter(function(e){return"hair mustache"===e.name})[0];return"none"!==n.value&n.confidence>.7?"MustacheFancy":"Blank"},w=function(e){var a=e.filter(function(e){return"race"===e.name})[0];return"white"===a.value&&a.confidence>.9?"Pale":"hispanic"===a.value&&a.confidence>.9?"Tanned":"african-american"===a.value&&a.confidence>.9?"Black":"Light"},y=n(159),b=n(30),k=n.n(b),E={facingMode:"user"},S=function(){var e,a=Object(r.useState)("camera"),n=Object(s.a)(a,2),o=n[0],c=n[1],i=Object(r.useState)([]),f=Object(s.a)(i,2),d=f[0],b=f[1],S=Object(r.useState)(""),H=Object(s.a)(S,2),j=H[0],B=H[1],C=t.a.useRef(null),O=t.a.useCallback(Object(u.a)(l.a.mark(function e(){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.current.getScreenshot(),B(a),c("loading"),e.next=5,v(a);case 5:n=e.sent,b(n),c("avatar");case 8:case"end":return e.stop()}},e)})),[C]);return t.a.createElement("div",{className:"App",style:{textAlign:"center"}},"camera"===o&&t.a.createElement(function(){return t.a.createElement("div",null,t.a.createElement(h.a,{audio:!1,ref:C,height:300,width:"100%",screenshotFormat:"image/jpeg",videoConstraints:E}),t.a.createElement("div",null,t.a.createElement(y.a,{variant:"contained",color:"primary",onClick:O},"Capture Photo")))},null),"loading"===o&&t.a.createElement(function(){return t.a.createElement("div",null,t.a.createElement("h1",null,"Please Wait ..."))},null),"avatar"===o&&t.a.createElement("div",null,t.a.createElement("h1",null," Avatar "),t.a.createElement(k.a,{avatarStyle:"Circle",topType:m(d),hairColor:p(d),accessoriesType:(e=d,"yes"===e.filter(function(e){return"glasses"===e.name})[0].value?"Prescription02":"Blank"),facialHairType:g(d),clotheType:"Hoodie",clotheColor:"Black",eyeType:"Default",eyebrowType:"Default",Skin:w(d)}),t.a.createElement("div",null,t.a.createElement("h1",null," Original "),t.a.createElement("img",{src:j,alt:"Original"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(t.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},33:function(e,a,n){e.exports=n(146)},38:function(e,a,n){}},[[33,1,2]]]);
//# sourceMappingURL=main.6464a6fd.chunk.js.map