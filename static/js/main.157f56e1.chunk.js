(window.webpackJsonpavatar=window.webpackJsonpavatar||[]).push([[0],{153:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(10),c=a.n(o),i=(a(40),a(15)),s=a(29),u=a.n(s),l=a(11),f=a.n(l),h=a(14),d=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:"d45fd466-51e2-4701-8da8-04351c872236",file_base64:e.replace("data:image/jpeg;base64,",""),detection_flags:"classifiers,extended"})};return fetch("https://www.betafaceapi.com/api/v2/media",t)},p=function(){var e=Object(h.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(t);case 3:return e.next=5,e.sent.json();case 5:return a=e.sent,e.abrupt("return",a.media.faces[0].tags);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.filter(function(e){return"wearing hat"===e.name})[0];if("yes"===t.value&&t.confidence>.8)return"Hat";var a=e.filter(function(e){return"bald"===e.name})[0];if("yes"===a.value&&a.confidence>=.9)return"NoHair";var r=e.filter(function(e){return"hair length"===e.name})[0].value,n=e.filter(function(e){return"hair top"===e.name})[0].value;switch(r){case"none":if("very short"===n)return"ShortHairTheCaesar";if("short"===n)return"ShortHairRound";break;case"very short":return"ShortHairTheCaesar";case"short":return"ShortHairRound";case"average":return"ShortHairShortWaved";case"long":return"LongHairNotTooLong";case"very long":return"LongHairStraight";default:return"ShortHairShortCurly"}},m=function(e){switch(e.filter(function(e){return"hair color type"===e.name})[0].value){case"black":return"Black";case"blond":return"Blonde";case"brown":return"BrownDark";case"brown light":return"Brown";case"red":return"Red";default:return"Brown"}},g=function(e){var t=e.filter(function(e){return"hair beard"===e.name})[0];if("none"!==t.value&t.confidence>.75)return"BeardLight";var a=e.filter(function(e){return"hair mustache"===e.name})[0];return"none"!==a.value&a.confidence>.7?"MustacheFancy":"Blank"},w=function(e){var t,a=e.apiResponseData,r=e.screenshot;return n.a.createElement("div",null,n.a.createElement("h1",null," Avatar "),n.a.createElement(u.a,{avatarStyle:"Circle",topType:v(a),hairColor:m(a),accessoriesType:(t=a,"yes"===t.filter(function(e){return"glasses"===e.name})[0].value?"Prescription02":"Blank"),facialHairType:g(a),clotheType:"Hoodie",clotheColor:"Black",eyeType:"Default",eyebrowType:"Default"}),n.a.createElement("div",null,n.a.createElement("h1",null," Original "),n.a.createElement("img",{style:{height:"300px",width:"350px"},src:r,alt:"Original"})))},y=a(30),b=a.n(y),S=a(166),E={facingMode:"user"},k=function(e){var t=e.setScreenshot,a=e.setUiState,r=e.setApiResponseData,o=n.a.useRef(null),c=n.a.useCallback(Object(h.a)(f.a.mark(function e(){var n,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.current.getScreenshot(),t(n),a("loading"),e.next=5,p(n);case 5:c=e.sent,r(c),a("avatar");case 8:case"end":return e.stop()}},e)})),[o]);return n.a.createElement("div",null,n.a.createElement(b.a,{audio:!1,ref:o,height:300,width:"100%",screenshotFormat:"image/jpeg",videoConstraints:E}),n.a.createElement("div",null,n.a.createElement(S.a,{variant:"contained",color:"primary",onClick:c},"Capture Photo")))},j=a(32),H=a.n(j),O=function(){var e=Object(r.useState)("camera"),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)([]),s=Object(i.a)(c,2),u=s[0],l=s[1],f=Object(r.useState)(""),h=Object(i.a)(f,2),d=h[0],p=h[1];return n.a.createElement("div",{className:"App",style:{textAlign:"center"}},"camera"===a&&n.a.createElement(k,{setUiState:o,setScreenshot:p,setApiResponseData:l}),"loading"===a&&n.a.createElement(function(){return n.a.createElement("div",null,n.a.createElement(H.a,{loading:!0}))},null),"avatar"===a&&n.a.createElement(w,{apiResponseData:u,screenshot:d}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},35:function(e,t,a){e.exports=a(153)},40:function(e,t,a){}},[[35,1,2]]]);
//# sourceMappingURL=main.157f56e1.chunk.js.map