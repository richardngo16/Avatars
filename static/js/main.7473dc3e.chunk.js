(window.webpackJsonpavatar=window.webpackJsonpavatar||[]).push([[0],{146:function(e,n,a){"use strict";a.r(n);var r=a(0),t=a.n(r),o=a(10),c=a.n(o),i=(a(38),a(11)),l=a.n(i),u=a(14),s=a(15),f=a(29),h=a.n(f),d=function(e){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:"d45fd466-51e2-4701-8da8-04351c872236",file_base64:e.replace("data:image/jpeg;base64,",""),detection_flags:"classifiers,extended"})};return fetch("https://www.betafaceapi.com/api/v2/media",n)},v=function(){var e=Object(u.a)(l.a.mark(function e(n){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(n);case 3:return e.next=5,e.sent.json();case 5:return a=e.sent,e.abrupt("return",a.media.faces[0].tags);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(n){return e.apply(this,arguments)}}(),p=function(e){var n=e.filter(function(e){return"wearing hat"===e.name})[0];if(console.log("Wearing Hat?",n.value),"yes"===n.value&&n.confidence>.8)return console.log("yes hat"),"Hat";var a=e.filter(function(e){return"bald"===e.name})[0];if(console.log("NoHair?",a.value,"Confidence?",a.confidence),"yes"===a.value&&a.confidence>=.9)return"NoHair";var r=e.filter(function(e){return"hair length"===e.name})[0].value,t=e.filter(function(e){return"hair top"===e.name})[0].value;switch(console.log("hair length",r),console.log("hair top",t),r){case"none":if("very short"===t)return"ShortHairTheCaesar";if("short"===t)return"ShortHairRound";break;case"very short":return"ShortHairTheCaesar";case"short":return"ShortHairRound";case"average":return"ShortHairShortWaved";case"long":return"LongHairNotTooLong";default:return"LongHairStraight"}},m=function(e){var n=e.filter(function(e){return"hair color type"===e.name})[0];switch(console.log("haircolor",n),n.value){case"black":return"Black";case"blond":return"Blonde";case"brown":return"BrownDark";case"brown light":return"Brown";case"red":if(n.confidence>.8)return"Red";break;default:return"Brown"}},g=function(e){var n=e.filter(function(e){return"hair beard"===e.name})[0];if(console.log("has beard",n),"none"!==n.value&n.confidence>.75)return"BeardLight";var a=e.filter(function(e){return"hair mustache"===e.name})[0];return"none"!==a.value&a.confidence>.7?"MustacheFancy":"Blank"},w=function(e){var n=e.filter(function(e){return"race"===e.name})[0];return"white"===n.value&&n.confidence>.9?"Pale":"hispanic"===n.value&&n.confidence>.9?"Tanned":"african-american"===n.value&&n.confidence>.9?"Black":"Light"},y=a(159),b=a(30),k=a.n(b),S={facingMode:"user"},H=function(){var e,n=Object(r.useState)("camera"),a=Object(s.a)(n,2),o=a[0],c=a[1],i=Object(r.useState)([]),f=Object(s.a)(i,2),d=f[0],b=f[1],H=t.a.useRef(null),B=t.a.useCallback(Object(u.a)(l.a.mark(function e(){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=H.current.getScreenshot(),c("loading"),e.next=4,v(n);case 4:a=e.sent,b(a),c("avatar");case 7:case"end":return e.stop()}},e)})),[H]);return t.a.createElement("div",{className:"App",style:{textAlign:"center"}},"camera"===o&&t.a.createElement(function(){return t.a.createElement("div",null,t.a.createElement(h.a,{audio:!1,ref:H,height:300,width:"100%",screenshotFormat:"image/jpeg",videoConstraints:S}),t.a.createElement("div",null,t.a.createElement(y.a,{variant:"contained",color:"primary",onClick:B},"Capture Photo")))},null),"loading"===o&&t.a.createElement(function(){return t.a.createElement("div",null,t.a.createElement("h1",null,"Please Wait ..."))},null),"avatar"===o&&t.a.createElement(k.a,{avatarStyle:"Circle",topType:p(d),hairColor:m(d),accessoriesType:(e=d,"yes"===e.filter(function(e){return"glasses"===e.name})[0].value?"Prescription02":"Blank"),facialHairType:g(d),clotheType:"Hoodie",clotheColor:"Black",eyeType:"Default",eyebrowType:"Default",Skin:w(d)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(t.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},33:function(e,n,a){e.exports=a(146)},38:function(e,n,a){}},[[33,1,2]]]);
//# sourceMappingURL=main.7473dc3e.chunk.js.map