(window.webpackJsonpavatar=window.webpackJsonpavatar||[]).push([[0],{146:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(10),i=t.n(c),o=(t(38),t(15)),u=t(29),l=t.n(u),s=t(11),f=t.n(s),h=t(14),d=function(e){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:"d45fd466-51e2-4701-8da8-04351c872236",file_base64:e.replace("data:image/jpeg;base64,",""),detection_flags:"classifiers,extended"})};return fetch("https://www.betafaceapi.com/api/v2/media",a)},v=function(){var e=Object(h.a)(f.a.mark(function e(a){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(a);case 3:return e.next=5,e.sent.json();case 5:return t=e.sent,e.abrupt("return",t.media.faces[0].tags);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(a){return e.apply(this,arguments)}}(),p=function(e){var a=e.filter(function(e){return"wearing hat"===e.name})[0];if("yes"===a.value&&a.confidence>.8)return"Hat";var t=e.filter(function(e){return"bald"===e.name})[0];if("yes"===t.value&&t.confidence>=.9)return"NoHair";var n=e.filter(function(e){return"hair length"===e.name})[0].value,r=e.filter(function(e){return"hair top"===e.name})[0].value;switch(n){case"none":if("very short"===r)return"ShortHairTheCaesar";if("short"===r)return"ShortHairRound";break;case"very short":return"ShortHairTheCaesar";case"short":return"ShortHairRound";case"average":return"ShortHairShortWaved";case"long":return"LongHairNotTooLong";case"very long":return"LongHairStraight";default:return"ShortHairShortCurly"}},m=function(e){var a=e.filter(function(e){return"hair color type"===e.name})[0];switch(a.value){case"black":return"Black";case"blond":return"Blonde";case"brown":return"BrownDark";case"brown light":return"Brown";case"red":if(a.confidence>.8)return"Red";break;default:return"Brown"}},g=function(e){var a=e.filter(function(e){return"hair beard"===e.name})[0];if("none"!==a.value&a.confidence>.75)return"BeardLight";var t=e.filter(function(e){return"hair mustache"===e.name})[0];return"none"!==t.value&t.confidence>.7?"MustacheFancy":"Blank"},w=function(e){var a=e.filter(function(e){return"race"===e.name})[0];return"white"===a.value&&a.confidence>.9?"Pale":"hispanic"===a.value&&a.confidence>.9?"Tanned":"african-american"===a.value&&a.confidence>.9?"Black":"Light"},y=function(e){var a,t=e.apiResponseData,n=e.screenshot;return r.a.createElement("div",null,r.a.createElement("h1",null," Avatar "),r.a.createElement(l.a,{avatarStyle:"Circle",topType:p(t),hairColor:m(t),accessoriesType:(a=t,"yes"===a.filter(function(e){return"glasses"===e.name})[0].value?"Prescription02":"Blank"),facialHairType:g(t),clotheType:"Hoodie",clotheColor:"Black",eyeType:"Default",eyebrowType:"Default",Skin:w(t)}),r.a.createElement("div",null,r.a.createElement("h1",null," Original "),r.a.createElement("img",{style:{height:"300px",width:"350px"},src:n,alt:"Original"})))},b=t(30),S=t.n(b),k=t(159),E={facingMode:"user"},j=function(e){var a=e.setScreenshot,t=e.setUiState,n=e.setApiResponseData,c=r.a.useRef(null),i=r.a.useCallback(Object(h.a)(f.a.mark(function e(){var r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.current.getScreenshot(),a(r),t("loading"),e.next=5,v(r);case 5:i=e.sent,n(i),t("avatar");case 8:case"end":return e.stop()}},e)})),[c]);return r.a.createElement("div",null,r.a.createElement(S.a,{audio:!1,ref:c,height:300,width:"100%",screenshotFormat:"image/jpeg",videoConstraints:E}),r.a.createElement("div",null,r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:i},"Capture Photo")))},B=function(){var e=Object(n.useState)("camera"),a=Object(o.a)(e,2),t=a[0],c=a[1],i=Object(n.useState)([]),u=Object(o.a)(i,2),l=u[0],s=u[1],f=Object(n.useState)(""),h=Object(o.a)(f,2),d=h[0],v=h[1];return r.a.createElement("div",{className:"App",style:{textAlign:"center"}},"camera"===t&&r.a.createElement(j,{setUiState:c,setScreenshot:v,setApiResponseData:s}),"loading"===t&&r.a.createElement(function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Please Wait ..."))},null),"avatar"===t&&r.a.createElement(y,{apiResponseData:l,screenshot:d}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},33:function(e,a,t){e.exports=t(146)},38:function(e,a,t){}},[[33,1,2]]]);
//# sourceMappingURL=main.34386852.chunk.js.map